import{S as v,V as U,W as k,X as b,_ as I,c as L,Y as y,Z as C,U as w,k as D}from"./elm.7e6b5792.js";import{h as F}from"./config.2519a230.js";import{bc as P,bI as E,ag as d,o as a,g as c,h as i,a2 as o,X as t,W as g,F as B,a0 as m}from"./vendor.9fab5538.js";import{V as R}from"./VideoReader.eb4bdf8e.js";import{_ as $}from"./index.d4df333c.js";import"./lodash.8fc0361e.js";import"https://www.gstatic.com/firebasejs/9.8.4/firebase-app.js";import"https://www.gstatic.com/firebasejs/9.8.4/firebase-analytics.js";var S={data(){return{fileList1:[],fileList2:[],result:{is_same:!1,score:0},actionUrl:F+"/slice",img1Url:"",img2Url:"",DialogIsVisiable:!1,loadingVisible:!0,keyPoint:!0,VideoDialogIsVisiable:!1}},watch:{fileList1(e){e.length>0&&(this.img1Url=URL.createObjectURL(e[0].raw))},fileList2(e){e.length>0&&(this.img2Url=URL.createObjectURL(e[0].raw))}},components:{IconPicture:v,SuccessFilled:U,CircleCloseFilled:k,Loading:b,Switch:I,VideoReader:R,VideoCameraIcon:P},methods:{slice(){this.loadingVisible=!0,this.DialogIsVisiable=!0;let e=new FormData;if(console.log(this.fileList1),this.fileList1.length==0){this.$message.error("\u8BF7\u4E0A\u4F20\u56FE\u7247");return}e.append("img",this.fileList1[0].raw),e.append("keypoint",this.keyPoint),E({method:"post",url:this.actionUrl,headers:{"Content-Type":"multipart/form-data","Access-Control-Allow-Origin":"*"},data:e}).then(s=>{this.img2Url=s.data})},clear(){this.fileList1=[],this.fileList2=[],this.img1Url="",this.img2Url=""},openVideo(){this.VideoDialogIsVisiable=!0},saveImg(){var e=this.$refs["video-reader"].imgFile;if(e==""||e==null||e==null){this.$message.error("\u8BF7\u5148\u62CD\u7167");return}this.fileList1=[],this.fileList1.push({raw:e}),this.VideoDialogIsVisiable=!1}}};const z={class:"w-full"},N={class:"compare-box"},O={class:"left-img-container"},j=i("h3",null,"\u6E90\u56FE\u7247",-1),A={key:0},T=["src"],W={class:"record-button"},X={class:"mid-img-container"},Y=m("\u5F00\u542F\u5173\u952E\u70B9\u68C0\u6D4B"),Z=m("\u751F\u6210"),q=m("\u6E05\u7A7A"),G={class:"right-img-container"},H=i("h3",null,"\u76EE\u6807\u56FE\u7247",-1),J={class:"img-button-product"},K=["src"];function M(e,s){const u=d("IconPicture"),n=L,_=y,f=d("VideoCameraIcon"),r=D,h=C,p=d("video-reader"),V=w;return a(),c(B,null,[i("div",z,[i("div",N,[i("div",O,[j,o(_,{class:"img-button",ref:"upload",action:e.actionUrl,drag:"","file-list":e.fileList1,"onUpdate:file-list":s[0]||(s[0]=l=>e.fileList1=l),"list-type":"picture-card","show-file-list":!1,limit:1,"auto-upload":!1},{default:t(()=>[e.img1Url?(a(),c("div",A,[i("img",{class:"imgshow",src:e.img1Url},null,8,T)])):(a(),g(n,{key:1,class:"avatar-uploader-icon"},{default:t(()=>[o(u)]),_:1}))]),_:1},8,["action","file-list"]),i("div",W,[o(r,{type:"success",onClick:s[1]||(s[1]=l=>e.openVideo()),circle:""},{default:t(()=>[o(n,{size:""},{default:t(()=>[o(f)]),_:1})]),_:1})])]),i("div",X,[i("div",null,[i("h4",null,[Y,o(h,{modelValue:e.keyPoint,"onUpdate:modelValue":s[2]||(s[2]=l=>e.keyPoint=l)},null,8,["modelValue"])])]),i("div",null,[o(r,{type:"success",size:"large",onClick:e.slice},{default:t(()=>[Z]),_:1},8,["onClick"])]),i("div",null,[o(r,{type:"danger",size:"large",onClick:e.clear},{default:t(()=>[q]),_:1},8,["onClick"])])]),i("div",G,[H,i("div",J,[e.img2Url?(a(),c("img",{key:0,class:"imgshow",src:e.img2Url},null,8,K)):(a(),g(n,{key:1,class:"avatar-uploader-icon"},{default:t(()=>[o(u)]),_:1}))])])])]),o(V,{modelValue:e.VideoDialogIsVisiable,"onUpdate:modelValue":s[4]||(s[4]=l=>e.VideoDialogIsVisiable=l)},{default:t(()=>[o(p,{onChooseImg:s[3]||(s[3]=l=>e.saveImg()),ref:"video-reader"},null,512)]),_:1},8,["modelValue"])],64)}var ae=$(S,[["render",M]]);export{ae as default};
//# sourceMappingURL=landmarks.3ddce1cf.js.map
